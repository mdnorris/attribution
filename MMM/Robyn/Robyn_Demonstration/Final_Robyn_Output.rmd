Robyn Test
================

## STEP 0: Setup Environment

It’s best to install and load in this order; it has yet to fail. The
following two commands remove any previously installed H2O packages for
R. Then we download packages H20 depends on.

``` r
pkgs <- c("RCurl","jsonlite")
for (pkg in pkgs) {
  if (! (pkg %in% rownames(installed.packages()))) { install.packages(pkg) }
}
```

Downloading and initializing H20 for R.

``` r
# install.packages("h2o", type="source", repos="https://h2o-release.s3.amazonaws.com/h2o/rel-zygmund/4/R")
# install.packages("reticulate") # Install reticulate first if you haven't already
# remotes::install_github("facebookexperimental/Robyn/R")
# install.packages(c('nloptr', 'lares', 'dplyr', 'h2o', 'reticulate', 'tidyr'))
```

Calling the necessary libraries

``` r
library(Robyn)
library(npreg)
library(dplyr)
```

    ## 
    ## Attaching package: 'dplyr'

    ## The following objects are masked from 'package:stats':
    ## 
    ##     filter, lag

    ## The following objects are masked from 'package:base':
    ## 
    ##     intersect, setdiff, setequal, union

``` r
library(nloptr)
library(lares)
library(tidyr)
library(stringr)
library(reticulate)
library(h2o)
```

    ## 
    ## ----------------------------------------------------------------------
    ## 
    ## Your next step is to start H2O:
    ##     > h2o.init()
    ## 
    ## For H2O package documentation, ask for help:
    ##     > ??h2o
    ## 
    ## After starting H2O, you can use the Web UI at http://localhost:54321
    ## For more information visit https://docs.h2o.ai
    ## 
    ## ----------------------------------------------------------------------

    ## 
    ## Attaching package: 'h2o'

    ## The following objects are masked from 'package:stats':
    ## 
    ##     cor, sd, var

    ## The following objects are masked from 'package:base':
    ## 
    ##     %*%, %in%, &&, ||, apply, as.factor, as.numeric, colnames,
    ##     colnames<-, ifelse, is.character, is.factor, is.numeric, log,
    ##     log10, log1p, log2, round, signif, trunc

Finally, initiate H20 and Nevergrad

``` r
# h2o.init()
# conda_create("r-reticulate")
# conda_install("r-reticulate", "nevergrad", pip = TRUE)
# use_condaenv("r-reticulate")
```

## STEP 1: Data Creation

Ideal requirements:  
\* Two years’ worth of data  
\* Consistent information on spend and impressions (FB prefers
impressions over clicks)  
\* Several tactics with the associated information necessary.

Procedure: with a dataset such as the one described above, eliminate all
but date, revenue, tactic category, tactic spend, and impressions or
something similar, then create a pivot table that uses weekly dates as
rows and has as columns a tactic category’s spend and another for
impressions. Revenue should also remain.

Robyn suggests a 10:1 ratio between observations and variables, so
you’ll likely have more tactics than you need and have to cull them
down.

Robyn does not like nulls, nor too many zeroes, and if imputing missing
values, you need to be very deliberate on how you do it.
Multicollinearity is a concern, but less so with ridge regression, so
you have a bit of wiggle room there. Just expect to have many of your
models fail to converge before you start finding some that do.

## STEP 2: Load Data

This section is important not only to load the data, but it also tells
the program where to place the Robyn object.

``` r
setwd('C:/Users/norri/Desktop/')
Sys.setenv(R_FUTURE_FORK_ENABLE = TRUE) # Force multicore when using RStudio
options(future.fork.enable = TRUE)
df <- read.csv('robyn_final.csv', fileEncoding = 'UTF-8-BOM')

data("dt_prophet_holidays")
head(dt_prophet_holidays)
```

    ## # A tibble: 6 × 4
    ##   ds         holiday                                               country  year
    ##   <date>     <chr>                                                 <chr>   <int>
    ## 1 1995-01-01 Ano Nuevo [New Year's Day]                            AR       1995
    ## 2 1995-02-27 Dia de Carnaval [Carnival's Day]                      AR       1995
    ## 3 1995-02-28 Dia de Carnaval [Carnival's Day]                      AR       1995
    ## 4 1995-03-24 Dia Nacional de la Memoria por la Verdad y la Justic… AR       1995
    ## 5 1995-04-02 Dia del Veterano y de los Caidos en la Guerra de Mal… AR       1995
    ## 6 1995-04-13 Semana Santa (Jueves Santo)  [Holy day (Holy Thursda… AR       1995

I’ve found it’s best to set the full path to make sure this file is in
the right spot and can be overwritten.

``` r
robyn_object <- "C:/Users/norri/Desktop/MyRobyn.RDS"
```

## STEP 2a: Four steps of model specification

### 2a-1: First, specify the input variables.

All sign control are now automatically provided: “positive” for media &
organic variables and “default” for all others. Users can still
customize signs if necessary. Documentation is available in
?robyn_inputs.

``` r
InputCollect <- robyn_inputs(
  dt_input = df,
  dt_holidays = dt_prophet_holidays,
  date_var = "DATE", # date format must be "2020-01-01, and must be in all caps"
  dep_var = "revenue", # there should be only one dependent variable
  dep_var_type = "revenue", # "revenue" (ROI) or "conversion" (CPA)
  prophet_vars = c("trend", "season", "holiday"), # "trend","season", "weekday" & "holiday"
  prophet_country = "US", # input one country. dt_prophet_holidays includes 59 countries by default
  context_vars = c("cargill", 'inflation'), # e.g. competitors, discount, unemployment etc
  paid_media_spends = c("banner_S", "blog_S", "coupon_S", "email_S"), # mandatory input
  paid_media_vars = c("banner_I", "blog_I", "coupon_I", "email_I"), # mandatory.
  # paid_media_vars must have same order as paid_media_spends. Use media exposure metrics like
  # impressions, GRP etc. If not applicable, use spend instead.
  # organic_vars = "newsletter", # marketing activity without media spend
  # factor_vars = c("events"), # force variables in context_vars or organic_vars to be categorical
  window_start = "2019-10-14",
  window_end = "2021-4-26",
  adstock = "weibull_pdf" # geometric, weibull_cdf or weibull_pdf.
)
```

    ## Warning in check_datadim(dt_input, all_ind_vars, rel = 10): There are 9
    ## independent variables & 85 data points. We recommend row:column ratio of 10 to 1

``` r
print(InputCollect)
```

    ## Total Observations: 85 (weeks)
    ## Input Table Columns (12):
    ##   Date: DATE
    ##   Dependent: revenue [revenue]
    ##   Paid Media: banner_I, blog_I, coupon_I, email_I
    ##   Paid Media Spend: banner_S, blog_S, coupon_S, email_S
    ##   Context: cargill, inflation
    ##   Organic: 
    ##   Prophet (Auto-generated): trend, season, holiday on US
    ##   Unused variables: None
    ## 
    ## Date Range: 2019-09-30:2021-05-10
    ## Model Window: 2019-10-14:2021-04-26 (81 weeks)
    ## With Calibration: FALSE
    ## Custom parameters: None
    ## 
    ## Adstock: weibull_pdf
    ## Hyper-parameters: [0;31mNot set yet[0m

### 2a-2: Define and add hyperparameters

Robyn’s hyperparameters have four components: Adstock parameters (theta
or shape/scale). Saturation parameters (alpha/gamma). Regularisation
parameter (lambda). No need to specify manually. Time series validation
parameter (train_size).

``` r
names = hyper_names(adstock = InputCollect$adstock, all_media = InputCollect$all_media)
limit = hyper_limits()

print(length(hyper_names(adstock = InputCollect$adstock, all_media = InputCollect$all_media)))
```

    ## [1] 16

``` r
alphas = c(.1, 9.9)
gammas = c(.1, 1)
shapes = c(0, 19.9)
scales = c(0, 1)

hyperparameters <-list(
  banner_S_alphas = c(.1, 9.9)
  , banner_S_gammas = c(.1, 1)
  , banner_S_shapes = c(0, 19.9)
  , banner_S_scales = c(0, 1)
  
  , blog_S_alphas = c(.1, 9.9)
  , blog_S_gammas = c(.1, 1)
  , blog_S_shapes = c(0, 19.9)
  , blog_S_scales = c(0, 1)
  
  , coupon_S_alphas = c(.1, 9.9)
  , coupon_S_gammas = c(.1, 1)
  , coupon_S_shapes = c(0, 19.9)
  , coupon_S_scales = c(0, 1)
  
  , email_S_alphas = c(.1, 9.9)
  , email_S_gammas = c(.1, 1)
  , email_S_shapes = c(0, 19.9)
  , email_S_scales = c(0, 1)
  
  , train_size = c(0.5, 0.8)
)
```

### 2a-3: Put Hyperparameters into robyn_input()

``` r
InputCollect <- robyn_inputs(InputCollect = InputCollect,
                             hyperparameters = hyperparameters)
```

    ## >> Running feature engineering...

    ## Warning in .font_global(font, quiet = FALSE): Font 'Arial Narrow' is not
    ## installed, has other name, or can't be found

    ## NOTE: potential improvement on splitting channels for better exposure fitting. Threshold (Minimum R2) = 0.8 
    ##   Check: InputCollect$plotNLSCollect outputs
    ##   Weak relationship for: "email_I"and their spend

### 2a-4: Optional model calibration

1.  Calibration channels need to be paid_media_spends or organic_vars
    names.
2.  We strongly recommend to use Weibull PDF adstock for more degree of
    freedom when calibrating Robyn.
3.  We strongly recommend to use experimental and causal results that
    are considered ground truth to calibrate MMM. Usual experiment types
    are identity-based (e.g. Facebook conversion lift) or geo-based
    (e.g. Facebook GeoLift). Due to the nature of treatment and control
    groups in an experiment, the result is considered immediate effect.
    It’s rather impossible to hold off historical carryover effect in an
    experiment. Therefore, only calibrates the immediate and the future
    carryover effect. When calibrating with causal experiments, use
    calibration_scope = “immediate”.
4.  It’s controversial to use attribution/MTA contribution to
    calibrate MMM. Attribution is considered biased towards lower-funnel
    channels and strongly impacted by signal quality. When calibrating
    with MTA, use calibration_scope = “immediate”.
5.  Every MMM is different. It’s highly contextual if two MMMs are
    comparable or not. In case of using other MMM result to calibrate
    Robyn, use calibration_scope = “total”.
6.  Currently, Robyn only accepts point-estimate as calibration input.
    For example, if 10k\$ spend is tested against a hold-out for channel
    A, then input the incremental return as point-estimate as the
    example below.
7.  The point-estimate has to always match the spend in the variable.
    For example, if channel A usually has \$100K weekly spend and the
    experimental holdout is 70%, input the point-estimate for the 30K,
    not the 70K.
8.  If an experiment contains more than one media variable, input
    “channel_A+channel_B” to indicate combination of channels, case
    sensitive.

``` r
# calibration_input <- data.frame(
#   # channel name must in paid_media_vars
#   channel = c(),
#   # liftStartDate must be within input data range
#   liftStartDate = as.Date(c()),
#   # liftEndDate must be within input data range
#   liftEndDate = as.Date(c()),
#   # Provided value must be tested on same campaign level in model and same metric as dep_var_type
#   liftAbs = c(),
#   # Spend within experiment: should match within a 10% error your spend on date range for each channel from dt_input
#   spend = c(),
#   # Confidence: if frequentist experiment, you may use 1 - pvalue
#   confidence = c(),
#   # KPI measured: must match your dep_var
#   metric = c("revenue", "revenue", "revenue", "revenue"),
#   # Either "immediate" or "total". For experimental inputs like Facebook Lift, "immediate" is recommended.
#   calibration_scope = c("immediate", "immediate", "immediate", "immediate")
# )
# InputCollect <- robyn_inputs(InputCollect = InputCollect, calibration_input = calibration_input)
```

## STEP 3: Build Initial Model

Run all trials and iterations. Use ?robyn_run to check parameter
definition

``` r
OutputModels <- robyn_run(
  InputCollect = InputCollect # feed in all model specification
  , cores = NULL # on Windows, it will only use 1, multi-core on Linux
  , iterations = 2750 # Increase if failing to converge
  , trials = 12 # Increase if failing to converge
  # , outputs = FALSE # outputs = FALSE disables direct model output
  # , ts_validation = TRUE, # 3-way-split time series for NRMSE validation.
)
```

    ## Input data has 85 weeks in total: 2019-09-30 to 2021-05-10

    ## Initial model is built on rolling window of 81 week: 2019-10-14 to 2021-04-26

    ## Warning in hyper_collector(InputCollect, hyper_in =
    ## InputCollect$hyperparameters, : Provided train_size but ts_validation = FALSE.
    ## Time series validation inactive.

    ## Fitting time series with all available data...

    ## Using weibull_pdf adstocking with 18 hyperparameters (17 to iterate + 1 fixed) on 1 core (Windows fallback)

    ## >>> Starting 12 trials with 2750 iterations each using TwoPointsDE nevergrad algorithm...

    ##   Running trial 1 of 12

    ##   |                                                                              |                                                                      |   0%  |                                                                              |                                                                      |   1%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |=====================                                                 |  31%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100% 
    ##   Finished in 7.71 mins

    ## This trial contains 82 iterations with all media coefficient = 0. Please reconsider your media variable choice if the pareto choices are unreasonable. 
    ##    Recommendations: 
    ## 1. Increase hyperparameter ranges for 0-coef channels to give Robyn more freedom 
    ## 2. Split media into sub-channels, and/or aggregate similar channels, and/or introduce other media 
    ## 3. Increase trials to get more samples

    ##   Running trial 2 of 12

    ##   |                                                                              |                                                                      |   0%  |                                                                              |                                                                      |   1%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |=====================                                                 |  31%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%

    ## Attention for loop 15: immediate & carryover decomp don't sum up to total

    ##   |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100% 
    ##   Finished in 7.72 mins

    ## This trial contains 114 iterations with all media coefficient = 0. Please reconsider your media variable choice if the pareto choices are unreasonable. 
    ##    Recommendations: 
    ## 1. Increase hyperparameter ranges for 0-coef channels to give Robyn more freedom 
    ## 2. Split media into sub-channels, and/or aggregate similar channels, and/or introduce other media 
    ## 3. Increase trials to get more samples

    ##   Running trial 3 of 12

    ##   |                                                                              |                                                                      |   0%  |                                                                              |                                                                      |   1%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |=====================                                                 |  31%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100% 
    ##   Finished in 7.67 mins

    ## This trial contains 167 iterations with all media coefficient = 0. Please reconsider your media variable choice if the pareto choices are unreasonable. 
    ##    Recommendations: 
    ## 1. Increase hyperparameter ranges for 0-coef channels to give Robyn more freedom 
    ## 2. Split media into sub-channels, and/or aggregate similar channels, and/or introduce other media 
    ## 3. Increase trials to get more samples

    ##   Running trial 4 of 12

    ##   |                                                                              |                                                                      |   0%  |                                                                              |                                                                      |   1%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |=====================                                                 |  31%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%

    ## Attention for loop 3: immediate & carryover decomp don't sum up to total

    ##   |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100% 
    ##   Finished in 7.83 mins

    ## This trial contains 107 iterations with all media coefficient = 0. Please reconsider your media variable choice if the pareto choices are unreasonable. 
    ##    Recommendations: 
    ## 1. Increase hyperparameter ranges for 0-coef channels to give Robyn more freedom 
    ## 2. Split media into sub-channels, and/or aggregate similar channels, and/or introduce other media 
    ## 3. Increase trials to get more samples

    ##   Running trial 5 of 12

    ##   |                                                                              |                                                                      |   0%  |                                                                              |                                                                      |   1%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |=====================                                                 |  31%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100% 
    ##   Finished in 7.93 mins

    ## This trial contains 93 iterations with all media coefficient = 0. Please reconsider your media variable choice if the pareto choices are unreasonable. 
    ##    Recommendations: 
    ## 1. Increase hyperparameter ranges for 0-coef channels to give Robyn more freedom 
    ## 2. Split media into sub-channels, and/or aggregate similar channels, and/or introduce other media 
    ## 3. Increase trials to get more samples

    ##   Running trial 6 of 12

    ##   |                                                                              |                                                                      |   0%  |                                                                              |                                                                      |   1%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |=====================                                                 |  31%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100% 
    ##   Finished in 8 mins

    ## This trial contains 227 iterations with all media coefficient = 0. Please reconsider your media variable choice if the pareto choices are unreasonable. 
    ##    Recommendations: 
    ## 1. Increase hyperparameter ranges for 0-coef channels to give Robyn more freedom 
    ## 2. Split media into sub-channels, and/or aggregate similar channels, and/or introduce other media 
    ## 3. Increase trials to get more samples

    ##   Running trial 7 of 12

    ##   |                                                                              |                                                                      |   0%  |                                                                              |                                                                      |   1%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |=====================                                                 |  31%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100% 
    ##   Finished in 7.47 mins

    ## This trial contains 182 iterations with all media coefficient = 0. Please reconsider your media variable choice if the pareto choices are unreasonable. 
    ##    Recommendations: 
    ## 1. Increase hyperparameter ranges for 0-coef channels to give Robyn more freedom 
    ## 2. Split media into sub-channels, and/or aggregate similar channels, and/or introduce other media 
    ## 3. Increase trials to get more samples

    ##   Running trial 8 of 12

    ##   |                                                                              |                                                                      |   0%  |                                                                              |                                                                      |   1%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |=====================                                                 |  31%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100% 
    ##   Finished in 7.11 mins

    ## This trial contains 160 iterations with all media coefficient = 0. Please reconsider your media variable choice if the pareto choices are unreasonable. 
    ##    Recommendations: 
    ## 1. Increase hyperparameter ranges for 0-coef channels to give Robyn more freedom 
    ## 2. Split media into sub-channels, and/or aggregate similar channels, and/or introduce other media 
    ## 3. Increase trials to get more samples

    ##   Running trial 9 of 12

    ##   |                                                                              |                                                                      |   0%  |                                                                              |                                                                      |   1%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |=====================                                                 |  31%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100% 
    ##   Finished in 7.16 mins

    ## This trial contains 117 iterations with all media coefficient = 0. Please reconsider your media variable choice if the pareto choices are unreasonable. 
    ##    Recommendations: 
    ## 1. Increase hyperparameter ranges for 0-coef channels to give Robyn more freedom 
    ## 2. Split media into sub-channels, and/or aggregate similar channels, and/or introduce other media 
    ## 3. Increase trials to get more samples

    ##   Running trial 10 of 12

    ##   |                                                                              |                                                                      |   0%  |                                                                              |                                                                      |   1%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |=====================                                                 |  31%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100% 
    ##   Finished in 7.24 mins

    ## This trial contains 85 iterations with all media coefficient = 0. Please reconsider your media variable choice if the pareto choices are unreasonable. 
    ##    Recommendations: 
    ## 1. Increase hyperparameter ranges for 0-coef channels to give Robyn more freedom 
    ## 2. Split media into sub-channels, and/or aggregate similar channels, and/or introduce other media 
    ## 3. Increase trials to get more samples

    ##   Running trial 11 of 12

    ##   |                                                                              |                                                                      |   0%  |                                                                              |                                                                      |   1%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |=====================                                                 |  31%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100% 
    ##   Finished in 7.16 mins

    ## This trial contains 108 iterations with all media coefficient = 0. Please reconsider your media variable choice if the pareto choices are unreasonable. 
    ##    Recommendations: 
    ## 1. Increase hyperparameter ranges for 0-coef channels to give Robyn more freedom 
    ## 2. Split media into sub-channels, and/or aggregate similar channels, and/or introduce other media 
    ## 3. Increase trials to get more samples

    ##   Running trial 12 of 12

    ##   |                                                                              |                                                                      |   0%  |                                                                              |                                                                      |   1%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |=====================                                                 |  31%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100% 
    ##   Finished in 7.18 mins

    ## This trial contains 78 iterations with all media coefficient = 0. Please reconsider your media variable choice if the pareto choices are unreasonable. 
    ##    Recommendations: 
    ## 1. Increase hyperparameter ranges for 0-coef channels to give Robyn more freedom 
    ## 2. Split media into sub-channels, and/or aggregate similar channels, and/or introduce other media 
    ## 3. Increase trials to get more samples

    ## - DECOMP.RSSD converged: sd@qt.20 0.16 <= 0.28 & |med@qt.20| 0.19 <= 0.37
    ## - NRMSE converged: sd@qt.20 0.005 <= 0.036 & |med@qt.20| 0.088 <= 0.18

    ## Total run time: 90.42 mins

``` r
print(OutputModels)
```

    ## Total trials: 12
    ## Iterations per trial: 2750 (2760 real)
    ## Runtime (minutes): 90.42
    ## Cores: 15
    ## 
    ## Updated Hyper-parameters:
    ##   banner_S_alphas: [0.1, 9.9]
    ##   banner_S_gammas: [0.1, 1]
    ##   banner_S_scales: [0, 1]
    ##   banner_S_shapes: [0, 19.9]
    ##   blog_S_alphas: [0.1, 9.9]
    ##   blog_S_gammas: [0.1, 1]
    ##   blog_S_scales: [0, 1]
    ##   blog_S_shapes: [0, 19.9]
    ##   coupon_S_alphas: [0.1, 9.9]
    ##   coupon_S_gammas: [0.1, 1]
    ##   coupon_S_scales: [0, 1]
    ##   coupon_S_shapes: [0, 19.9]
    ##   email_S_alphas: [0.1, 9.9]
    ##   email_S_gammas: [0.1, 1]
    ##   email_S_scales: [0, 1]
    ##   email_S_shapes: [0, 19.9]
    ##   lambda: [0, 1]
    ##   train_size: [1]
    ## 
    ## Nevergrad Algo: TwoPointsDE
    ## Intercept sign: non_negative
    ## Time-series validation: FALSE
    ## Penalty factor: FALSE
    ## Refresh: FALSE
    ## 
    ## Convergence on last quantile (iters 2622:2760):
    ##   DECOMP.RSSD converged: sd@qt.20 0.16 <= 0.28 & |med@qt.20| 0.19 <= 0.37
    ##   NRMSE converged: sd@qt.20 0.005 <= 0.036 & |med@qt.20| 0.088 <= 0.18

``` r
outputs <- OutputModels
```

``` r
## Check time-series validation plot (when ts_validation == TRUE)
# Read more and replicate results: ?ts_validation
if (OutputModels$ts_validation) OutputModels$ts_validation_plot

## Check MOO (multi-objective optimization) convergence plots
OutputModels$convergence$moo_distrb_plot
```

    ## Picking joint bandwidth of 0.0402

    ## Picking joint bandwidth of 0.00389

![](Title_files/figure-gfm/unnamed-chunk-12-1.png)<!-- -->

``` r
OutputModels$convergence$moo_cloud_plot
```

![](Title_files/figure-gfm/unnamed-chunk-12-2.png)<!-- -->

Calculate Pareto optimality, cluster and export results and plots. See
?robyn_outputs

``` r
OutputCollect <- robyn_outputs(
  InputCollect, OutputModels
  , pareto_fronts = 'auto'
  , calibration_constraint = .1 #& default at 0.1
  , csv_out = "pareto" # "pareto" or "all"
  , clusters = TRUE # Set to TRUE to cluster similar models by ROAS. See ?robyn_clusters
  , plot_pareto = TRUE # Set to FALSE to deactivate plotting and saving model one-pagers
  , plot_folder = robyn_object # path for plots export
  , export = TRUE
)
```

    ## Using robyn object location: C:/Users/norri/Desktop

    ## >>> Running Pareto calculations for 33000 models on auto fronts...

    ## >> Automatically selected 5 Pareto-fronts to contain at least 100 pareto-optimal models (103)

    ## >> Pareto-Front: 1 [16 models]

    ##  00:00:00 [===                                      ] 6.25% | 1                       00:00:01 [======                                   ] 12.5% | 2                       00:00:01 [========                                 ] 18.8% | 3                       00:00:01 [===========                              ] 25% | 4                       00:00:02 [=============                            ] 31.2% | 5                       00:00:02 [================                         ] 37.5% | 6                       00:00:02 [==================                       ] 43.8% | 7                       00:00:03 [=====================                    ] 50% | 8                       00:00:03 [=======================                  ] 56.2% | 9                       00:00:03 [==========================               ] 62.5% | 10                      00:00:04 [============================             ] 68.8% | 11                      00:00:04 [===============================          ] 75% | 12                      00:00:04 [=================================        ] 81.2% | 13                      00:00:04 [====================================     ] 87.5% | 14                      00:00:05 [======================================   ] 93.8% | 15                      00:00:05 [=========================================] 100% | 16

    ## >> Pareto-Front: 2 [22 models]

    ##  00:00:00 [==                                       ] 4.55% | 1                       00:00:00 [====                                     ] 9.09% | 2                       00:00:01 [======                                   ] 13.6% | 3                       00:00:01 [========                                 ] 18.2% | 4                       00:00:01 [==========                               ] 22.7% | 5                       00:00:02 [===========                              ] 27.3% | 6                       00:00:02 [=============                            ] 31.8% | 7                       00:00:02 [===============                          ] 36.4% | 8                       00:00:03 [=================                        ] 40.9% | 9                       00:00:03 [===================                      ] 45.5% | 10                      00:00:03 [=====================                    ] 50% | 11                      00:00:04 [======================                   ] 54.5% | 12                      00:00:04 [========================                 ] 59.1% | 13                      00:00:04 [==========================               ] 63.6% | 14                      00:00:05 [============================             ] 68.2% | 15                      00:00:05 [==============================           ] 72.7% | 16                      00:00:05 [===============================          ] 77.3% | 17                      00:00:06 [=================================        ] 81.8% | 18                      00:00:06 [===================================      ] 86.4% | 19                      00:00:06 [=====================================    ] 90.9% | 20                      00:00:07 [=======================================  ] 95.5% | 21                      00:00:07 [=========================================] 100% | 22

    ## >> Pareto-Front: 3 [18 models]

    ##  00:00:00 [===                                      ] 5.56% | 1                       00:00:00 [=====                                    ] 11.1% | 2                       00:00:01 [=======                                  ] 16.7% | 3                       00:00:01 [=========                                ] 22.2% | 4                       00:00:01 [============                             ] 27.8% | 5                       00:00:02 [==============                           ] 33.3% | 6                       00:00:02 [================                         ] 38.9% | 7                       00:00:02 [==================                       ] 44.4% | 8                       00:00:03 [=====================                    ] 50% | 9                       00:00:03 [=======================                  ] 55.6% | 10                      00:00:03 [=========================                ] 61.1% | 11                      00:00:04 [===========================              ] 66.7% | 12                      00:00:04 [=============================            ] 72.2% | 13                      00:00:04 [================================         ] 77.8% | 14                      00:00:05 [==================================       ] 83.3% | 15                      00:00:05 [====================================     ] 88.9% | 16                      00:00:05 [======================================   ] 94.4% | 17                      00:00:06 [=========================================] 100% | 18

    ## >> Pareto-Front: 4 [24 models]

    ##  00:00:00 [==                                       ] 4.17% | 1                       00:00:00 [====                                     ] 8.33% | 2                       00:00:01 [======                                   ] 12.5% | 3                       00:00:01 [=======                                  ] 16.7% | 4                       00:00:01 [=========                                ] 20.8% | 5                       00:00:02 [===========                              ] 25% | 6                       00:00:02 [============                             ] 29.2% | 7                       00:00:02 [==============                           ] 33.3% | 8                       00:00:03 [================                         ] 37.5% | 9                       00:00:03 [=================                        ] 41.7% | 10                      00:00:03 [===================                      ] 45.8% | 11                      00:00:04 [=====================                    ] 50% | 12                      00:00:04 [======================                   ] 54.2% | 13                      00:00:04 [========================                 ] 58.3% | 14                      00:00:05 [==========================               ] 62.5% | 15                      00:00:05 [===========================              ] 66.7% | 16                      00:00:05 [=============================            ] 70.8% | 17                      00:00:06 [===============================          ] 75% | 18                      00:00:06 [================================         ] 79.2% | 19                      00:00:06 [==================================       ] 83.3% | 20                      00:00:07 [====================================     ] 87.5% | 21                      00:00:07 [=====================================    ] 91.7% | 22                      00:00:07 [=======================================  ] 95.8% | 23                      00:00:08 [=========================================] 100% | 24

    ## >> Pareto-Front: 5 [23 models]

    ##  00:00:00 [==                                       ] 4.35% | 1                       00:00:00 [====                                     ] 8.7% | 2                       00:00:01 [======                                   ] 13% | 3                       00:00:01 [=======                                  ] 17.4% | 4                       00:00:01 [=========                                ] 21.7% | 5                       00:00:02 [===========                              ] 26.1% | 6                       00:00:02 [=============                            ] 30.4% | 7                       00:00:02 [==============                           ] 34.8% | 8                       00:00:03 [================                         ] 39.1% | 9                       00:00:03 [==================                       ] 43.5% | 10                      00:00:03 [====================                     ] 47.8% | 11                      00:00:04 [=====================                    ] 52.2% | 12                      00:00:04 [=======================                  ] 56.5% | 13                      00:00:04 [=========================                ] 60.9% | 14                      00:00:04 [===========================              ] 65.2% | 15                      00:00:05 [============================             ] 69.6% | 16                      00:00:05 [==============================           ] 73.9% | 17                      00:00:05 [================================         ] 78.3% | 18                      00:00:06 [==================================       ] 82.6% | 19                      00:00:06 [===================================      ] 87% | 20                      00:00:07 [=====================================    ] 91.3% | 21                      00:00:07 [=======================================  ] 95.7% | 22                      00:00:07 [=========================================] 100% | 23

    ## >>> Calculating clusters for model selection using Pareto fronts...

    ## >> Auto selected k = 5 (clusters) based on minimum WSS variance of 5%

    ## >>> Collecting 103 pareto-optimum results into: C:/Users/norri/Desktop/Robyn_202301170916_init/

    ## >> Exporting general plots into directory...

    ## >> Exporting pareto results as CSVs into directory...

    ## >>> Exporting pareto one-pagers into directory...

    ## >> Generating only cluster results one-pagers (5)...

    ## >> Plotting 5 selected models on 15 cores...

    ##   |                                                                              |                                                                      |   0%  |                                                                              |============================                                          |  40%  |                                                                              |======================================================================| 100%

    ## >> Exported model inputs as C:/Users/norri/Desktop/Robyn_202301170916_init/RobynModel-inputs.json

``` r
collect <- OutputCollect
```

\## STEP 4: Select and save model of choice

``` r
## Compare all model one-pagers and select one that mostly reflects your business reality
print(OutputCollect)
```

    ## Plot Folder: C:/Users/norri/Desktop/Robyn_202301170916_init/
    ## Calibration Constraint: 0.1
    ## Hyper-parameters fixed: FALSE
    ## Pareto-front (5) All solutions (103): 1_176_10, 1_177_10, 1_178_13, 1_180_2, 1_182_11, 1_183_2, 1_184_3, 9_180_13, 11_141_8, 11_146_5, 11_158_5, 11_162_15, 11_164_5, 11_176_15, 11_178_5, 11_178_15, 1_138_10, 1_176_5, 1_178_10, 1_182_3, 1_182_6, 1_182_10, 1_184_2, 1_184_6, 1_184_11, 1_184_13, 2_158_6, 2_166_6, 4_126_3, 7_150_6, 7_152_6, 11_152_9, 11_155_8, 11_156_9, 11_157_8, 11_175_8, 11_184_9, 11_184_15, 1_152_7, 1_172_10, 1_174_2, 1_174_10, 1_180_11, 1_181_10, 1_182_13, 1_183_9, 2_176_6, 4_181_14, 9_174_13, 9_178_13, 9_182_13, 9_183_10, 9_183_12, 11_163_8, 11_174_9, 11_182_15, 1_121_7, 1_144_7, 1_154_10, 1_164_6, 1_180_8, 2_144_6, 2_150_6, 2_152_6, 3_181_2, 7_88_11, 7_140_6, 7_148_6, 9_145_14, 9_149_14, 9_157_3, 9_163_3, 9_179_10, 11_166_9, 11_168_15, 11_170_6, 11_172_6, 11_174_6, 11_178_6, 11_180_13, 1_117_15, 1_119_15, 1_176_13, 1_178_1, 1_182_8, 1_183_7, 1_184_8, 2_160_6, 3_183_2, 8_171_8, 9_158_7, 9_169_14, 9_175_13, 9_176_10, 9_181_10, 9_181_14, 9_184_13, 11_134_3, 11_136_3, 11_161_2, 11_161_8, 11_167_8, 11_179_8
    ## Clusters (k = 5): 11_134_3, 1_154_10, 1_117_15, 11_161_8, 1_144_7

``` r
select_model <- "1_117_15" # select one from above
ExportedModel <- robyn_write(InputCollect, OutputCollect, select_model)
```

    ## >> Exported model 1_117_15 as C:/Users/norri/Desktop/Robyn_202301170916_init/RobynModel-1_117_15.json

``` r
print(ExportedModel)
```

    ## Exported directory: C:/Users/norri/Desktop/Robyn_202301170916_init/
    ## Exported model: 1_117_15
    ## Window: 2019-10-14 to 2021-04-26 (81 weeks)
    ## Time Series Validation: FALSE (train size = 100%)
    ## 
    ## Model's Performance and Errors:
    ##     Adj.R2 (train): 0.8662 | NRMSE = 0.09149 | DECOMP.RSSD = 0.0154 | MAPE = 0
    ## 
    ## Summary Values on Selected Model:
    ##       variable     coef decompPer decompAgg    ROI mean_response mean_spend
    ## 1  (Intercept)   3.397B   268.09%   275.18B      -             -          -
    ## 2        trend     1.32   146.70%   150.58B      -             -          -
    ## 3       season    0.888   -12.78%  -13.119B      -             -          -
    ## 4      holiday    0.855     0.30%    312.9M      -             -          -
    ## 5      cargill -21.457M  -344.50%  -353.61B      -             -          -
    ## 6    inflation  57.272M     6.99%    7.172B      -             -          -
    ## 7     banner_S  953.62M    20.12%   20.652B 19.166       67.355M    13.303M
    ## 8       blog_S  309.59M     6.56%     6.73B 17.695       63.248M     4.695M
    ## 9     coupon_S  763.59M     6.67%    6.849B 19.118        67.425     4.423M
    ## 10     email_S  186.45M     1.85%    1.901B 20.342        2.161M     1.154M
    ## 
    ## Hyper-parameters:
    ##     Adstock: weibull_pdf
    ##    channel    alphas    gammas   scales    shapes
    ## 1 banner_S 0.7936940 0.5188123 0.251949  4.099957
    ## 2   blog_S 0.5644906 0.4019608 0.345147 11.743905
    ## 3 coupon_S 6.5027712 0.7789753 0.286634 18.875727
    ## 4  email_S 1.6087982 0.7810597 0.244043 11.812839

\## STEP 5: Get budget allocation from model above

Budget allocation result requires further validation. Please use this
recommendation with caution. Don’t interpret budget allocation result if
selected model above doesn’t meet business expectation. Look at any and
all suggestions to see if the recomendations make sense; On occasions,
they suggest dropping spend on the holidays and even no ad spend Check
media summary for selected model Run ?robyn_allocator to check parameter
definition Run the “max_historical_response” scenario: “What’s the
revenue lift potential with the same historical spend level and what is
the spend mix?”

``` r
AllocatorCollect1 <- robyn_allocator(
  InputCollect = InputCollect,
  OutputCollect = OutputCollect,
  select_model = select_model,
  scenario = "max_historical_response",
  channel_constr_low = 0.7,
  channel_constr_up = c(1.2, 1.5, 1.5, 1.5),
  export = TRUE,
  date_min = "2019-12-14",
  date_max = "2021-4-26"
)
```

    ## >>> Running budget allocator for model ID 1_117_15 ...

    ## Date Window: 2019-12-14:2021-4-26 (72 weeks)

    ## Exporting charts into file: C:/Users/norri/Desktop/Robyn_202301170916_init/1_117_15_reallocated_hist.png

``` r
print(AllocatorCollect1)
```

    ## Model ID: 1_117_15
    ## Scenario: Maximum Historical Response
    ## Dep. Variable Type: revenue
    ## Media Skipped (coef = 0): None 
    ## Relative Spend Increase: 0% (0)
    ## Total Response Increase (Optimized): 6.54%
    ## Window: 2019-12-14:2021-4-26 (72 weeks)
    ## 
    ## Allocation Summary:
    ##   
    ## - banner_S:
    ##   Optimizable Range (bounds): [-30%, 20%]
    ##   Mean Spend Share (avg): 57.5% -> Optimized = 54.9%
    ##   Mean Response: 71,846,349 -> Optimized = 69,489,283
    ##   Mean Spend (per time unit): 14.52M -> Optimized = 13.88M [Delta = -4.4%]
    ##   
    ## - blog_S:
    ##   Optimizable Range (bounds): [-30%, 50%]
    ##   Mean Spend Share (avg): 19.1% -> Optimized = 28.7%
    ##   Mean Response: 64,082,946 -> Optimized = 76,492,372
    ##   Mean Spend (per time unit): 4.835M -> Optimized = 7.252M [Delta = 50.0%]
    ##   
    ## - coupon_S:
    ##   Optimizable Range (bounds): [-30%, 50%]
    ##   Mean Spend Share (avg): 18.6% -> Optimized = 13%
    ##   Mean Response: 100 -> Optimized = 10
    ##   Mean Spend (per time unit): 4.701M -> Optimized = 3.291M [Delta = -30.0%]
    ##   
    ## - email_S:
    ##   Optimizable Range (bounds): [-30%, 50%]
    ##   Mean Spend Share (avg): 4.78% -> Optimized = 3.35%
    ##   Mean Response: 2,325,922 -> Optimized = 1,317,532
    ##   Mean Spend (per time unit): 1.208M -> Optimized = 845.8K [Delta = -30.0%]

``` r
# plot(AllocatorCollect1)
```

Run the “max_response_expected_spend” scenario: “What’s the maximum
response for a given total spend based on historical saturation and the
spend mix?” “optmSpendShareUnit” is the optimum spend share.

``` r
AllocatorCollect2 <- robyn_allocator(
  InputCollect = InputCollect,
  OutputCollect = OutputCollect,
  select_model = select_model,
  scenario = "max_response_expected_spend",
  channel_constr_low = c(0.7, 0.7, 0.7, 0.7),
  channel_constr_up = c(1.2, 1.5, 1.5, 1.5),
  expected_spend = 1000000, # Total spend to be simulated
  expected_spend_days = 7, # Duration of expected_spend in days
  export = TRUE
)
```

    ## >>> Running budget allocator for model ID 1_117_15 ...

    ## Date Window: 2019-10-14:2021-04-26 (81 weeks)

    ## Exporting charts into file: C:/Users/norri/Desktop/Robyn_202301170916_init/1_117_15_reallocated_respo.png

``` r
print(AllocatorCollect2)
```

    ## Model ID: 1_117_15
    ## Scenario: Maximum Response with Expected Spend
    ## Dep. Variable Type: revenue
    ## Media Skipped (coef = 0): None 
    ## Relative Spend Increase: -95.8% (-28.3M in 7 days)
    ## Total Response Increase (Optimized): -19.7%
    ## Window: 2019-10-14:2021-04-26 (81 weeks)
    ## 
    ## Allocation Summary:
    ##   
    ## - banner_S:
    ##   Optimizable Range (bounds): [-30%, 20%]
    ##   Mean Spend Share (avg): 56.4% -> Optimized = 56.4%
    ##   Mean Response: 67,355,378 -> Optimized = 51,648,407
    ##   Mean Spend (per time unit): 13.3M -> Optimized = 9.312M [Delta = -30%]
    ##   
    ## - blog_S:
    ##   Optimizable Range (bounds): [-30%, 50%]
    ##   Mean Spend Share (avg): 19.9% -> Optimized = 19.9%
    ##   Mean Response: 63,248,264 -> Optimized = 53,715,230
    ##   Mean Spend (per time unit): 4.695M -> Optimized = 3.287M [Delta = -30%]
    ##   
    ## - coupon_S:
    ##   Optimizable Range (bounds): [-30%, 50%]
    ##   Mean Spend Share (avg): 18.8% -> Optimized = 18.8%
    ##   Mean Response: 67 -> Optimized = 7
    ##   Mean Spend (per time unit): 4.423M -> Optimized = 3.096M [Delta = -30%]
    ##   
    ## - email_S:
    ##   Optimizable Range (bounds): [-30%, 50%]
    ##   Mean Spend Share (avg): 4.89% -> Optimized = 4.89%
    ##   Mean Response: 2,161,396 -> Optimized = 1,223,861
    ##   Mean Spend (per time unit): 1.154M -> Optimized = 807.7K [Delta = -30%]

``` r
AllocatorCollect2$dt_optimOut
```

    ##             solID dep_var_type channels   date_min   date_max  periods
    ## banner_S 1_117_15      revenue banner_S 2019-10-14 2021-04-26 81 weeks
    ## blog_S   1_117_15      revenue   blog_S 2019-10-14 2021-04-26 81 weeks
    ## coupon_S 1_117_15      revenue coupon_S 2019-10-14 2021-04-26 81 weeks
    ## email_S  1_117_15      revenue  email_S 2019-10-14 2021-04-26 81 weeks
    ##          constr_low constr_up  histSpend histSpendTotal initSpendUnitTotal
    ## banner_S        0.7       1.2 1077512939     1909520536           23574328
    ## blog_S          0.7       1.5  380312709     1909520536           23574328
    ## coupon_S        0.7       1.5  358237157     1909520536           23574328
    ## email_S         0.7       1.5   93457730     1909520536           23574328
    ##          initSpendUnit initSpendShare initResponseUnit initResponseUnitTotal
    ## banner_S      13302629     0.56428455     6.735538e+07             132765106
    ## blog_S         4695219     0.19916660     6.324826e+07             132765106
    ## coupon_S       4422681     0.18760582     6.742469e+01             132765106
    ## email_S        1153799     0.04894303     2.161396e+06             132765106
    ##           initRoiUnit expSpendTotal expSpendUnitTotal expSpendUnitDelta
    ## banner_S 5.063313e+00         1e+06             1e+06         -0.957581
    ## blog_S   1.347078e+01         1e+06             1e+06         -0.957581
    ## coupon_S 1.524521e-05         1e+06             1e+06         -0.957581
    ## email_S  1.873286e+00         1e+06             1e+06         -0.957581
    ##          optmSpendUnit optmSpendUnitDelta optmSpendUnitTotal
    ## banner_S     9311840.2               -0.3           16502029
    ## blog_S       3286653.0               -0.3           16502029
    ## coupon_S     3095876.7               -0.3           16502029
    ## email_S       807659.4               -0.3           16502029
    ##          optmSpendUnitTotalDelta optmSpendShareUnit optmResponseUnit
    ## banner_S                    -0.3         0.56428455     5.164841e+07
    ## blog_S                      -0.3         0.19916660     5.371523e+07
    ## coupon_S                    -0.3         0.18760582     6.630205e+00
    ## email_S                     -0.3         0.04894303     1.223861e+06
    ##          optmResponseUnitTotal  optmRoiUnit optmResponseUnitLift
    ## banner_S             106587505 5.546531e+00           -0.2331955
    ## blog_S               106587505 1.634344e+01           -0.1507240
    ## coupon_S             106587505 2.141624e-06           -0.9016650
    ## email_S              106587505 1.515319e+00           -0.4337636
    ##          optmResponseUnitTotalLift
    ## banner_S                -0.1971723
    ## blog_S                  -0.1971723
    ## coupon_S                -0.1971723
    ## email_S                 -0.1971723

``` r
# plot(AllocatorCollect2)
```

``` r
## QA optimal response
# Pick any media variable: InputCollect$all_media
select_media <- "banner_S"
# For paid_media_spends set metric_value as your optimal spend
metric_value <- AllocatorCollect1$dt_optimOut$optmSpendUnit[
  AllocatorCollect1$dt_optimOut$channels == select_media
]; metric_value
```

    ## [1] 13877876

``` r
# # For paid_media_vars and organic_vars, manually pick a value
# metric_value <- 10000

if (TRUE) {
  optimal_response_allocator <- AllocatorCollect1$dt_optimOut$optmResponseUnit[
    AllocatorCollect1$dt_optimOut$channels == select_media
  ]
  optimal_response <- robyn_response(
    InputCollect = InputCollect,
    OutputCollect = OutputCollect,
    select_model = select_model,
    select_build = 0,
    media_metric = select_media,
    metric_value = metric_value
  )
  plot(optimal_response$plot)
  if (length(optimal_response_allocator) > 0) {
    cat("QA if results from robyn_allocator and robyn_response agree: ")
    cat(round(optimal_response_allocator) == round(optimal_response$response), "( ")
    cat(optimal_response$response, "==", optimal_response_allocator, ")\n")
  }
}
```

![](Title_files/figure-gfm/unnamed-chunk-17-1.png)<!-- -->

    ## QA if results from robyn_allocator and robyn_response agree: TRUE ( 69489283 == 69489283 )

\## STEP 6: Get MROI

``` r
## -------------------------------- NOTE v3.6.0 CHANGE !!! --------------------------- ##
## The robyn_response() function can now output response for spends and exposures (imps,
## GRP, circular_S sendings etc.) as well as plotting individual saturation curves. New
## argument names "media_metric" and "metric_value" instead "paid_media_var" and "spend"
## are now used to accommodate this change. Also the returned output is a list now and
## contains also the plot.
## ------------------------------------------------------------------------------------##

# Get response for 80k from result saved in robyn_object
Spend1 <- 60000
Response1 <- robyn_response(
  InputCollect = InputCollect,
  OutputCollect = OutputCollect,
  select_model = select_model,
  media_metric = "banner_S",
  metric_value = Spend1
)
Response1$response / Spend1 # ROI for search 80k
```

    ## [1] 16.58605
    ## attr(,"class")
    ## [1] "robyn_response" "numeric"

``` r
Response1$plot
```

![](Title_files/figure-gfm/unnamed-chunk-18-1.png)<!-- -->

``` r
### Or you can call a JSON file directly (a bit slower)
# Response1 <- robyn_response(
#   json_file = json_file,
#   dt_input = dt_simulated_weekly,
#   dt_holidays = dt_prophet_holidays,
#   media_metric = "search_S",
#   metric_value = Spend1
# )

# Get response for +10%
Spend2 <- Spend1 * 1.1
Response2 <- robyn_response(
  InputCollect = InputCollect,
  OutputCollect = OutputCollect,
  select_model = select_model,
  media_metric = "banner_S",
  metric_value = Spend2
)
Response2$response / Spend2 # ROI for search 81k
```

    ## [1] 16.26177
    ## attr(,"class")
    ## [1] "robyn_response" "numeric"

``` r
Response2$plot
```

![](Title_files/figure-gfm/unnamed-chunk-18-2.png)<!-- -->

``` r
# Marginal ROI of next 1000$ from 80k spend level for search
(Response2$response - Response1$response) / (Spend2 - Spend1)
```

    ## [1] 13.01896
    ## attr(,"class")
    ## [1] "robyn_response" "numeric"

``` r
## Example of getting paid media exposure response curves
imps <- 50000000
response_imps <- robyn_response(
  InputCollect = InputCollect,
  OutputCollect = OutputCollect,
  select_model = select_model,
  media_metric = "banner_I",
  metric_value = imps
)
response_imps$response / imps * 1000
```

    ## [1] 69.96005
    ## attr(,"class")
    ## [1] "robyn_response" "numeric"

``` r
response_imps$plot
```

![](Title_files/figure-gfm/unnamed-chunk-18-3.png)<!-- -->

``` r
## Example of getting organic media exposure response curves
# sendings <- 30000
# response_sending <- robyn_response(
#   InputCollect = InputCollect,
#   OutputCollect = OutputCollect,
#   select_model = select_model,
#   media_metric = "newsletter",
#   metric_value = sendings
# )
# response_sending$response / sendings * 1000
# response_sending$plot
```

\## Glossary

3\. Hyperparameter interpretation & recommendation:

Geometric adstock: Theta is the only parameter and means fixed decay
rate. Assuming TV spend on day 1 is 100€ and theta = 0.7, then day 2 has
100 x 0.7=70 worth of effect carried-over from day 1, day 3 has 70 \*
0.7=49€ from day 2 etc. Rule-of-thumb for common media genre: TV c(0.3,
0.8), OOH/Print/Radio c(0.1, 0.4), digital c(0, 0.3)

Weibull CDF adstock: The Cumulative Distribution Function of Weibull has
two parameters , shape & scale, and has flexible decay rate, compared to
Geometric adstock with fixed decay rate. The shape parameter controls
the shape of the decay curve. Recommended bound is c(0.0001, 2). The
larger the shape, the more S-shape. The smaller, the more L-shape. Scale
controls the inflexion point of the decay curve. We recommend very
conservative bounce of c(0, 0.1), because scale increases the adstock
half-life greatly.

Weibull PDF adstock: The Probability Density Function of the Weibull
also has two parameters, shape & scale, and also has flexible decay rate
as Weibull CDF. The difference is that Weibull PDF offers lagged effect.
When shape \\\> 2, the curve peaks after x = 0 and has NULL slope at x =
0, enabling lagged effect and sharper increase and decrease of adstock,
while the scale parameter indicates the limit of the relative position
of the peak at x axis; when 1 \\\< shape \\\< 2, the curve peaks after x
= 0 and has infinite positive slope at x=0, enabling lagged effect and
slower increase and decrease of adstock, while scale has the same effect
as above; when shape = 1, the curve peaks at x = 0 and reduces to
exponential decay, while scale controls the inflexion point; when 0 \\\<
shape \\\< 1, the curve peaks at x = 0 and has increasing decay, while
scale controls the inflexion point. When all possible shapes are
relevant, we recommend c(0.0001, 10) as bounds for shape; when only
strong lagged effect is of interest, we recommend c(2.0001, 10) as bound
for shape. In all cases, we recommend conservative bound of c(0, 0.1)
for scale. Due to the great flexibility of Weibull PDF, meaning more
freedom in hyperparameter spaces for Nevergrad to explore, it also
requires larger iterations to converge.

Hill function for saturation: Hill function is a two-parametric function
in Robyn with alpha and gamma. Alpha controls the shape of the curve
between exponential and s-shape. Recommended bound is c(0.5, 3). The
larger the alpha, the more S-shape. The smaller, the more C-shape. Gamma
controls the inflexion point. Recommended bounce is c(0.3, 1). The
larger the gamma, the later the inflection point in the response curve.

4\. Set individual hyperparameter bounds. They either contain two values
e.g. c(0, 0.5), or only one value, in which case you’d “fix” that
hyperparameter.
